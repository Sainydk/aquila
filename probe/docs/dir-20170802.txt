Директива 20170802 
[[[[ О внедрении механизма синхронизации потоков с планировщиком ]]]]

Основание

Планировщик PROBE работает быстрее, чем очередь успевает обрабатывать события.
На высокой скорости симуляции обработка событий отстает настолько сильно, что
видимость параллельной работы пропадает. Остальные системы начинают работать
с большим опозданием по отношению ко времени возникновения того или иного
события.

Данная проблема наблюдается например в процессе симуляции тиковых данных L1.
Начало подачи таких данных определяется моментом доступности инструмента -
как только инструмент становится доступным, необходимо начать подачу L1
данных. Если в момент генерации этого события очередь перегружена, то в
момент, когда подойдет очередь соответствущего обработчика, планировщик успеет
продвинуться вперед по временной шкале так далеко, что это приведет к потере
части L1 данных из-за неправильного определения периода читаемых данных.
Ситуация усугубляется наличием медленных операций ввода-вывода в начале чтения
L1 данных. Дополнительным фактором замедления является то, что доступность
разных инструментов как правило совпадает во времени. Таким образом
одномоментно в системе возникает несколько медленных задач, которые по задумке
должны быть выполнены одномоментно относительно времени планировщика. Но в
результате каждая такая задача получает разное отклонение фактического момента
времени от желаемого.


--------------------------------------------------------------------------------

Варианты решения проблемы симуляции L1
1) Добавить в каждое событие время генерации события
2) Переопределить контроллер контейнера в целях организации синхронного обработчика
3) Добавить синхронизаторы потоков в планировщик PROBE

--------------------------------------------------------------------------------

Подход 




--------------------------------------------------------------------------------

Порядок редизайна

